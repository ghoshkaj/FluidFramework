# This Yaml Document has been converted by ESAI Yaml Pipeline Conversion Tool.
# Please make sure to check all the converted content, it is your team's responsibility to make sure that the pipeline is still valid and functions as expected.
parameters:
- name: tagName
  type: string
steps:
- ${{ if ne(parameters.tagName, '') }}:
  - checkout: self
    clean: true
    persistCredentials: true
    condition: and(succeeded(), eq(variables['release'], 'release'))
  - task: Bash@3
    displayName: Tag Release
    condition: and(succeeded(), eq(variables['release'], 'release'))
    inputs:
      targetType: 'inline'
      script: |
        tag=${{ parameters.tagName }}_v$(version)
        echo Tag=$tag
        git tag $tag
        git push origin $tag